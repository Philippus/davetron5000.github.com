
<!DOCTYPE html>
<html language="en"><head>
  <meta charset="utf-8">
  <title>Naming and API Design - naildrivin5.com - David Bryant Copeland's Website</title>
  <meta name="author" content="David Bryant Copeland">
  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/images/favicons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/images/favicons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicons/favicon-16x16.png">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/images/favicons/ms-icon-144x144.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  

  
  <meta name="description" content="

  
    Naming and API Design
    
      June 15, 2015
    
  
  
    A tenet of design is that things that are the same should be obviously the s...">
  

  
  <link rel="canonical" href="http://naildrivin5.com/blog/2015/06/15/naming-and-api-design.html">
  <link href="/favicon.png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="naildrivin5.com - David Bryant Copeland's Website" type="application/atom+xml">
  <link href="/css/styles.css" rel="stylesheet">
  <script src="https://use.typekit.net/ylm4zpa.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
            
  <meta name="google-site-verification" content="h_yTpXa6N3ebHj8DYmgX4lIFGHBW1NtGMVHfXuu7i_4" />
</head>
<body>
  <header class="site-header pb2 mb2 center">
    <h1 class="uc ls2 f1"><a href="/">naildrivin5.com</a></h1>
    <h2 class="ls1"><small class="uc h4">Website of</small> David Bryant Copeland</h2>
    <nav>
      <ul>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/">Blog</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/bio">About</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/books">Books</a></li>
        <li class="text-c w-1-3"><a class="ib w-100 button" href="/talks">Talks</a></li>
      </ul>
      <div style="clear: both"></div>
    </nav>
  </header>
  <main>
    <section>
      <div>
<article role="article" class="blog-post">
  <header class="border-bottom border-light">
    <h1>Naming and API Design</h1>
    <h2 class="f5 ls2 fw-bold mtnone uc ib">
      June 15, 2015
    </h2>
  </header>
  <section class="blog-content">
    <p>A tenet of design is that things that are the same should be obviously the same, and things that are different should be obviously different.  This is the most basic way to create consonance and contrast, and is a great rule of thumb when designing <em>anything</em>.  While Rails diverges from this in an annoying way<a name="back-1"></a><sup><a href="#1">1</a></sup>, Angular diverges in a baffling way that makes explaining it to a newcomer head-scratchingly difficult.</p>

<!-- more -->

<h2>The World&#39;s Silliest Programming Language</h2>

<p>Imagine the following programming language.  To define a function, we name it using a <em>dasherized</em> scheme,
with square brackets to offset the arguments:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">define full-name[first-name,last-name]
  first-name + &quot; &quot; + last-name
end-define
</code></pre></div>
<p>Further imaging that in this programming language, to <em>invoke</em> the function you use a camel-cased version
of the function name, and use parenthesis to offset the arguments:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">print fullName(&quot;Dave&quot;,&quot;Copeland&quot;)
</code></pre></div>
<p>I don&#39;t think it&#39;s a stretch to call this language poorly designed.  Things that are the same—a
function—are handled differently depending upon the occasion.  The design of this language would benefit
greatly if you defined functions using the name symbol used to invoke them.</p>

<p>This example might seem pretty ridiculous, but this is <em>exactly</em> what Angular does.</p>

<h2>Dashes, Camels, and “ng”</h2>

<p>Angular uses <em>directives</em> in HTML to bind your code to the DOM or to DOM events.  The simplist one to
understand is <code>ng-click</code>:</p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;button</span> <span class="na">ng-click=</span><span class="s">&quot;doit()&quot;</span><span class="nt">&gt;</span>Do It! Do It, Now!<span class="nt">&lt;/button&gt;</span>
</code></pre></div>
<p>This calls <code>doit</code>, whenever the button is clicked.</p>

<p>Are you curious about the documentation for <code>ng-click</code>?  It&#39;s filed under <code>ngClick</code>.  The text <code>ng-click</code>—the thing you must type into your application&#39;s source code to make it work—does not appear in Angular&#39;s
source code.  Everything talks about <code>ngClick</code>.  Why?  I have no idea.</p>

<p>It gets worse.</p>

<h2>Good Luck Finding That Thing You Downloaded</h2>

<p>I&#39;m writing a book on getting Angular, Rails, Bootstrap, and Postgres working together, and how these
four technologies in sum are greater than their parts.  It&#39;s going to be awesome.  Documenting Postgres
is easy (“check out this thing you didn&#39;t think a relational database could do!”), and for Bootstrap,
it&#39;s just as simple (“put this class on this element and…boom!”).</p>

<p>Angular has resulted in many passages like the following.  I&#39;m talking about Angular&#39;s router, which is a
separate component.  The first thing the user has to do, after downloading the module, is configure it in
their application.  Essentially, you need to say &quot;my app requires the router I just downloaded&quot;.</p>

<blockquote>
<p>That argument [when declaring the app] is our app&#39;s list of dependent modules.  It&#39;s currently empty, because we hadn&#39;t needed anything other than what&#39;s provided by Angular.  Now, we&#39;ll need to add <code>angular-route</code> to this array.</p>

<p>Unfortunately, it&#39;s not as simple as adding <code>&quot;angular-route&quot;</code> to the array.  In Angular, the module name for declaring dependencies doesn&#39;t have to be the same as the name of the module we downloaded. For official Angular-provided modules this is unfortunately the case.  </p>

<p>By convention, the name to use in code for an Angular module can be derived by replacing the <code>angular-</code> with <code>ng</code> and camel-casing the remaining module name.  That means that <code>angular-route</code> becomes <code>ngRoute</code> and so <code>&quot;ngRoute&quot;</code> is the string to add to our list of dependencies.</p>
</blockquote>

<p>The reader has had type one string—“angular-route”—into their application&#39;s source code already (so that Bower/NPM/Whatever.JS could download it) And now, I have to give the reader <em>an algorithm they must execute mentally</em> in order to know what string to type into another part of their application.</p>

<p>This is bad design.</p>

<p>When faced with bad design, there is often some sort of tradeoff, some reason the system was designed
this way.  While I can hazard a few guesses about the whole <code>ng-click</code>/<code>ncClick</code> issues<a name="back-2"></a><sup><a href="#2">2</a></sup>, I&#39;ve got <em>zero</em> clue why the name of a module in your dependencies shouldn&#39;t be the name of the module
you downloaded.</p>

<p>It&#39;s so confusing that I have to invent a new phrase just to explain the difference.  If I download
<code>angular-route</code> and use <code>ngRoute</code> in my code, which of those is the <em>module name</em>?  Who knows?</p>

<p>Imagine if the module name was the…well…module name?</p>

<blockquote>
<p>That argument [when declaring the app] is our app&#39;s list of dependent modules.  It&#39;s currently empty, because we hadn&#39;t needed anything other than what&#39;s provided by Angular.  Now, we&#39;ll need to add <code>angular-route</code> to this array.</p>
</blockquote>

<p>End of description!</p>

<p>Same things should be same.</p>

<hr>

<footer class='footnotes'>
<ol>
<li>
<a name='1'></a>
<sup>1</sup>Try explaining to someone new to Ruby and Rails how to find out what file should contain the class <code>SomeModule::SomeClass</code><a href='#back-1'>↩</a>
</li>
<li>
<a name='2'></a>
<sup>2</sup>All I can figure is that some fussy developer didn't want camel case in their markup, but you can't define a JavaScript function with dashes.  I'm not saying it's a <strong>good</strong> reason, but it is a reason<a href='#back-2'>↩</a>
</li>
</ol></footer>

  </section>
</article>
</div>

    </section>
  </main>
  <footer class="center">
    <p class="f6">
      Copyright &copy; 2006-2016, by David Bryant Copeland, All Rights Reserved
    </p>
  </footer>
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '56a22cd9c88d90284f000861');
      t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
      t.src = 'https://d36ee2fcip1434.cloudfront.net/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</body></html>
